<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<title>Hodimlar nazorati</title>

<style>
body{
    margin:0;
    font-family:Segoe UI;
    background:#f2f4f7;
}

/* HEADER */
.header{
    background:#2b5f98;
    color:white;
    padding:30px;
    font-size:32px;
    font-weight:bold;
    text-align:center;
}

/* CARD */
.container{
    width:85%;
    margin:40px auto;
}

.card{
    background:white;
    border:3px solid #2b5f98;
    border-radius:14px;
    padding:25px;
    margin-bottom:30px;
}

.name{
    font-size:26px;
    font-weight:bold;
    color:#2b5f98;
}

.info{
    margin-top:6px;
    font-size:18px;
}

.buttons{
    margin-top:20px;
}

.btn{
    background:#2b5f98;
    color:white;
    border:none;
    padding:12px 24px;
    border-radius:10px;
    font-size:16px;
    margin-right:10px;
    cursor:pointer;
}

.plus{
    float:right;
    border-radius:50%;
    width:45px;
    height:45px;
    font-size:22px;
}

.section{
    display:none;
    margin-top:20px;
    border-top:1px solid #ddd;
    padding-top:15px;
}

.bottom{
    text-align:center;
    margin:30px 0 50px;
}

.green{background:#28a745;}
.red{background:#dc3545;}
</style>
</head>

<body>

<div class="header">Hodimlar nazorati</div>

<div class="container" id="staffContainer"></div>

<div class="bottom">
    <button class="btn green" onclick="addStaff()">Hodim qo'shish +</button>
    <button class="btn red" onclick="history.back()">Orqaga</button>
</div>

<script>

function createStaff(name, role, place){
    const card=document.createElement("div");
    card.className="card";

    card.innerHTML=`
        <div class="name">${name}</div>
        <div class="info">Lavozimi: ${role}</div>
        <div class="info">Ish joyi: ${place}</div>

        <div class="buttons">
            <button class="btn" onclick="toggle(this)">Vazifalari</button>
            <button class="btn" onclick="toggle(this)">Bajarilgan vazifalar</button>
            <button class="btn" onclick="toggle(this)">Muddati o'tgan vazifalar</button>
            <button class="btn plus" onclick="addTask(this)">+</button>
        </div>

        <div class="section"></div>
        <div class="section"></div>
        <div class="section"></div>
    `;

    document.getElementById("staffContainer").appendChild(card);
}

function toggle(btn){
    const card=btn.closest(".card");
    const btns=[...card.querySelectorAll(".buttons .btn")];
    const sections=card.querySelectorAll(".section");
    const index=btns.indexOf(btn);
    if(index<3){
        sections[index].style.display =
        sections[index].style.display==="block"?"none":"block";
    }
}

function addTask(btn){
    const name=prompt("Vazifa nomi:");
    const date=prompt("Bajarish muddati:");
    const place=prompt("Bajariladigan joyi:");
    if(!name) return;

    const sec=btn.closest(".card").querySelector(".section");
    sec.style.display="block";
    sec.innerHTML+=`<p><b>${name}</b> | ${date} | ${place}</p>`;
}

function addStaff(){
    const name=prompt("Ism familiya:");
    const role=prompt("Lavozimi:");
    const place=prompt("Ish joyi:");
    if(!name) return;

    createStaff(name,role,place);
}

/* default */
createStaff("Jumatullayev Jonibek","SMS/CRM","Birja");
createStaff("Isroilov Isfandiyor","SMS/CRM","Birja");

</script>

</body>
</html>
